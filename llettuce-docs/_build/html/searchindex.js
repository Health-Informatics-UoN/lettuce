Search.setIndex({"alltitles": {"API Reference": [[4, "api-reference"]], "Attributes": [[1, "attributes"], [1, "id1"], [1, "id2"], [2, "attributes"], [10, "attributes"]], "Classes": [[0, "classes"], [1, "classes"], [3, "classes"], [5, "classes"], [7, "classes"], [9, "classes"]], "Connecting to a database": [[14, "connecting-to-a-database"]], "Contents:": [[12, null]], "First solution": [[13, "first-solution"]], "Functions": [[0, "functions"], [1, "functions"], [2, "functions"], [6, "functions"], [8, "functions"], [10, "functions"], [11, "functions"]], "Indices and tables": [[12, "indices-and-tables"]], "Installation": [[14, "installation"]], "Llettuce: LLM for Efficient Translation and Transformation into Uniform Clinical Encoding": [[12, "llettuce-llm-for-efficient-translation-and-transformation-into-uniform-clinical-encoding"]], "Module Contents": [[0, "module-contents"], [1, "module-contents"], [2, "module-contents"], [3, "module-contents"], [5, "module-contents"], [6, "module-contents"], [7, "module-contents"], [8, "module-contents"], [9, "module-contents"], [10, "module-contents"], [11, "module-contents"]], "OMOP_match": [[0, "module-OMOP_match"]], "Overview": [[12, "overview"]], "Parameters": [[0, "parameters"], [0, "id1"], [0, "id3"], [0, "id5"], [0, "id7"], [1, "parameters"], [1, "id3"], [1, "id4"], [1, "id6"], [2, "parameters"], [3, "parameters"], [3, "id1"], [3, "id3"], [5, "parameters"], [5, "id1"], [5, "id3"], [6, "parameters"], [10, "parameters"], [10, "id1"], [10, "id2"], [10, "id4"], [11, "parameters"]], "Returns": [[0, "returns"], [0, "id2"], [0, "id4"], [0, "id6"], [0, "id8"], [1, "returns"], [1, "id5"], [1, "id7"], [2, "returns"], [3, "returns"], [3, "id2"], [3, "id4"], [5, "returns"], [5, "id2"], [5, "id4"], [6, "returns"], [7, "returns"], [9, "returns"], [9, "id1"], [10, "returns"], [10, "id3"], [11, "returns"]], "Run pipeline": [[14, "run-pipeline"]], "Running the API": [[14, "running-the-api"]], "Second solution": [[13, "second-solution"]], "Troubleshooting": [[13, "troubleshooting"]], "Usage": [[14, "usage"]], "Yields": [[1, "yields"]], "app": [[1, "module-app"]], "assistant": [[2, "module-assistant"]], "base_options": [[3, "module-base_options"]], "llama-cpp-python build errors": [[13, "llama-cpp-python-build-errors"]], "logging_utils": [[5, "module-logging_utils"]], "malloc error querying database": [[13, "malloc-error-querying-database"]], "models": [[6, "module-models"]], "pipeline": [[7, "module-pipeline"]], "preprocess": [[8, "module-preprocess"]], "prompt": [[9, "module-prompt"]], "ui": [[10, "module-ui"]], "utils": [[11, "module-utils"]]}, "docnames": ["autoapi/OMOP_match/index", "autoapi/app/index", "autoapi/assistant/index", "autoapi/base_options/index", "autoapi/index", "autoapi/logging_utils/index", "autoapi/models/index", "autoapi/pipeline/index", "autoapi/preprocess/index", "autoapi/prompt/index", "autoapi/ui/index", "autoapi/utils/index", "index", "troubleshooting", "usage"], "envversion": {"sphinx": 61, "sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2}, "filenames": ["autoapi/OMOP_match/index.rst", "autoapi/app/index.rst", "autoapi/assistant/index.rst", "autoapi/base_options/index.rst", "autoapi/index.rst", "autoapi/logging_utils/index.rst", "autoapi/models/index.rst", "autoapi/pipeline/index.rst", "autoapi/preprocess/index.rst", "autoapi/prompt/index.rst", "autoapi/ui/index.rst", "autoapi/utils/index.rst", "index.rst", "troubleshooting.rst", "usage.rst"], "indexentries": {}, "objects": {"": [[0, 0, 0, "-", "OMOP_match"], [1, 0, 0, "-", "app"], [2, 0, 0, "-", "assistant"], [3, 0, 0, "-", "base_options"], [5, 0, 0, "-", "logging_utils"], [6, 0, 0, "-", "models"], [7, 0, 0, "-", "pipeline"], [8, 0, 0, "-", "preprocess"], [9, 0, 0, "-", "prompt"], [10, 0, 0, "-", "ui"], [11, 0, 0, "-", "utils"]], "OMOP_match": [[0, 1, 1, "", "OMOPMatcher"], [0, 3, 1, "", "run"]], "OMOP_match.OMOPMatcher": [[0, 2, 1, "", "calculate_best_matches"], [0, 2, 1, "", "close"], [0, 2, 1, "", "fetch_OMOP_concepts"], [0, 2, 1, "", "fetch_concept_ancestor"], [0, 2, 1, "", "fetch_concept_relationship"]], "app": [[1, 1, 1, "", "LLMModel"], [1, 1, 1, "", "PipelineOptions"], [1, 1, 1, "", "PipelineRequest"], [1, 5, 1, "", "app"], [1, 3, 1, "", "generate_events"], [1, 5, 1, "", "logger"], [1, 3, 1, "", "parse_pipeline_args"], [1, 3, 1, "", "run_db"], [1, 3, 1, "", "run_pipeline"]], "app.LLMModel": [[1, 4, 1, "", "GEMMA_7B"], [1, 4, 1, "", "GPT_3_5_TURBO"], [1, 4, 1, "", "GPT_4"], [1, 4, 1, "", "LLAMA_2_7B"], [1, 4, 1, "", "LLAMA_3_70B"], [1, 4, 1, "", "LLAMA_3_8B"]], "app.PipelineOptions": [[1, 4, 1, "", "concept_ancestor"], [1, 4, 1, "", "concept_relationship"], [1, 4, 1, "", "concept_synonym"], [1, 4, 1, "", "llm_model"], [1, 4, 1, "", "max_separation_ancestor"], [1, 4, 1, "", "max_separation_descendants"], [1, 4, 1, "", "search_threshold"], [1, 4, 1, "", "temperature"], [1, 4, 1, "", "vocabulary_id"]], "app.PipelineRequest": [[1, 4, 1, "", "name"], [1, 4, 1, "", "pipeline_options"]], "assistant": [[2, 5, 1, "", "opt"], [2, 3, 1, "", "run"]], "base_options": [[3, 1, 1, "", "BaseOptions"]], "base_options.BaseOptions": [[3, 2, 1, "", "_print"], [3, 2, 1, "", "initialize"], [3, 2, 1, "", "parse"]], "logging_utils": [[5, 1, 1, "", "Logger"]], "logging_utils.Logger": [[5, 2, 1, "", "_make_level"], [5, 2, 1, "", "make_logger"]], "models": [[6, 3, 1, "", "get_model"]], "pipeline": [[7, 1, 1, "", "llm_pipeline"]], "pipeline.llm_pipeline": [[7, 2, 1, "", "get_simple_assistant"]], "preprocess": [[8, 3, 1, "", "preprocess_search_term"]], "prompt": [[9, 1, 1, "", "Prompts"]], "prompt.Prompts": [[9, 2, 1, "", "_simple_prompt"], [9, 2, 1, "", "get_prompt"]], "ui": [[10, 3, 1, "", "capitalize_words"], [10, 3, 1, "", "display_concept_info"], [10, 5, 1, "", "informal_name"], [10, 3, 1, "", "make_api_call"], [10, 5, 1, "", "result_stream"], [10, 5, 1, "", "skip_llm"], [10, 3, 1, "", "stream_message"]], "utils": [[11, 3, 1, "", "get_informal_name"]]}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "class", "Python class"], "2": ["py", "method", "Python method"], "3": ["py", "function", "Python function"], "4": ["py", "attribute", "Python attribute"], "5": ["py", "data", "Python data"]}, "objtypes": {"0": "py:module", "1": "py:class", "2": "py:method", "3": "py:function", "4": "py:attribute", "5": "py:data"}, "terms": {"": [0, 1, 2, 8, 10], "0": [0, 1, 6, 14], "0125": 1, "1": [0, 1, 4, 13, 14], "127": 14, "2": 1, "3": [1, 13], "4": [1, 13], "5": 1, "5432": 14, "7": 6, "70b": 1, "7b": 1, "80": 1, "8000": 14, "8b": 1, "A": [0, 2, 8], "If": [0, 1, 6, 9, 13], "It": 3, "Or": 14, "The": [0, 1, 2, 3, 6, 7, 8, 9, 10, 11, 12, 13, 14], "Then": [13, 14], "There": 13, "These": 1, "To": 14, "_informal_nam": [], "_level": 5, "_logger": [], "_make_level": 5, "_print": 3, "_prompt_typ": 9, "_result_stream": [], "_simple_prompt": 9, "abc": 1, "abov": [], "access": 14, "activ": 12, "ad": 0, "against": [0, 12], "all": [1, 3], "allow": [0, 1, 10], "alon": 0, "also": 3, "altern": [], "an": [0, 1, 2, 6, 7, 10, 12, 14], "ancestor": [0, 1], "ani": [0, 12, 14], "anoth": 14, "api": [1, 10, 12], "app": [4, 12, 14], "append": 0, "applic": [1, 12, 14], "ar": [0, 1, 12, 13], "arg": [3, 8], "argpars": [0, 2, 3, 7], "argument": [0, 1, 3], "aris": 13, "arriv": 14, "assist": [1, 4, 7, 12, 14], "async": 1, "asyncgener": 1, "asynchron": 14, "auto": 4, "autoapi": 4, "avail": [1, 14], "back": 0, "base": [0, 1, 5, 9], "base_opt": [1, 4, 12], "basemodel": 1, "baseopt": [0, 1, 3], "becom": 1, "been": 13, "befor": 14, "being": 13, "below": 14, "best": 0, "betnov": 14, "between": 0, "block": [], "bodi": 14, "bool": [1, 5], "brown": 8, "build": 12, "builder": 9, "cach": 13, "calcul": 0, "calculate_best_match": 0, "call": [0, 1, 10, 14], "can": [1, 5, 12, 13, 14], "capit": 10, "capitalize_word": 10, "carrot": 14, "cd": 14, "cflag": 13, "chang": 12, "charact": 10, "chat": 1, "check": 0, "clone": 14, "close": 0, "code": [], "collect": 1, "come": 0, "command": 1, "common": 8, "compat": 13, "compon": 9, "concept": [0, 1, 10, 12, 14], "concept_ancestor": [0, 1], "concept_data": 14, "concept_id": 0, "concept_relationship": [0, 1], "concept_synonym": [0, 1], "conda": 14, "connect": [0, 7, 12], "consol": [], "console_logg": 5, "constraint": 0, "construct": 5, "contain": [1, 2, 4, 13], "content": 14, "convert": 8, "coupl": 13, "cpp": [6, 12], "creat": [4, 14], "credenti": 14, "curl": 14, "cxxflag": 13, "d": 14, "data": [12, 14], "databas": [0, 1, 12], "db_host": 14, "db_name": 14, "db_password": 14, "db_port": 14, "db_schema": 14, "db_user": 14, "default": [1, 5, 14], "defin": 3, "degre": 0, "depend": 14, "descend": [0, 1], "detail": 1, "dev": 13, "develop": 12, "dict": [1, 2, 3, 10, 14], "dictionari": 2, "differ": 1, "dir": 13, "directori": [5, 13], "displai": 10, "display_concept_info": 10, "distribut": 13, "dm": 13, "docker": 14, "document": [4, 13], "driver": 13, "drug": [0, 1, 2, 9, 12, 14], "dure": 3, "e": [13, 14], "each": 10, "effect": 10, "either": 14, "encod": 1, "encount": 13, "endpoint": 14, "engin": 0, "enum": 1, "env": 14, "environ": 14, "equival": 14, "error": [5, 12], "event": [1, 10, 14], "event_data": [], "event_typ": [], "eventsourcerespons": 1, "everi": 0, "exampl": [8, 14], "expand": 0, "experi": 3, "explicitli": 13, "export": 13, "f": 14, "fail": 13, "fals": [1, 5], "fastapi": 1, "fed": 12, "fetch": [0, 1, 12], "fetch_concept_ancestor": 0, "fetch_concept_relationship": 0, "fetch_omop_concept": 0, "few": 9, "filter": 0, "find": [0, 13], "first": [1, 14], "flag": 5, "float": [1, 6], "follow": [8, 12], "fopenmp": 13, "formal": [2, 9, 12, 14], "formal_nam": 14, "format": [1, 10, 14], "found": 14, "fox": 8, "from": [0, 1, 2, 10, 11, 13, 14], "full": 8, "function": 3, "fuzzi": [0, 1], "g": 14, "gcc": 13, "gemma": 1, "gemma_7b": 1, "gener": [1, 2, 4, 6, 7, 9], "generate_ev": 1, "get": [6, 7, 9, 11, 13, 14], "get_informal_nam": 11, "get_model": 6, "get_prompt": 9, "get_simple_assist": 7, "git": 14, "given": 0, "good": 13, "gpt": [1, 6], "gpt_3_5_turbo": 1, "gpt_4": 1, "graphic": 12, "grep": 13, "gui": [12, 14], "h": 14, "ha": [], "have": [13, 14], "haystack": [6, 7, 9], "health": 12, "helper": 3, "here": 1, "hold": 1, "host": 14, "how": 12, "html": 10, "http": 14, "i": [0, 1, 2, 5, 6, 7, 9, 10, 12, 13, 14], "id": 0, "implement": 3, "includ": [0, 13], "incompat": 13, "index": 12, "individu": 8, "info": 5, "inform": [0, 1, 2, 10, 11, 12, 14], "informal_nam": [2, 10], "informalnamerequest": 1, "informat": 12, "initi": 3, "input": [1, 8], "insert": 0, "instal": [12, 13], "instanc": 5, "instanti": 1, "int": [0, 1], "interact": 6, "interfac": [6, 12], "issu": 13, "item": 0, "join": 8, "json": [1, 11, 14], "json_arr": 11, "kept": 14, "languag": [1, 12], "larg": 12, "ld_library_path": 13, "learn": 9, "lettuc": 14, "level": [0, 5], "lib64": 13, "libgomp": 13, "librari": 13, "library_path": 13, "line": 1, "linux": 13, "list": [0, 14], "llama": [1, 6, 12], "llama_2_7b": 1, "llama_3_70b": 1, "llama_3_8b": 1, "llamacppgener": 6, "llettuc": [1, 10, 14], "llm": [1, 2, 6, 7, 14], "llm_model": 1, "llm_output": [1, 14], "llm_pipelin": 7, "llmmodel": 1, "load": 0, "locat": 13, "log": [0, 5, 6, 7], "log_dir": 5, "logger": [0, 1, 2, 5, 6, 7], "logging_level": 5, "logging_util": [0, 2, 4, 12], "lowercas": 8, "luck": 13, "made": 14, "make": [10, 14], "make_api_cal": 10, "make_logg": 5, "malloc": 12, "markdown": 10, "match": [0, 1, 12], "max_separation_ancestor": [0, 1], "max_separation_descend": [0, 1], "maximum": [0, 1], "mean": 1, "medic": [1, 2, 12], "medicin": [2, 12], "messag": 10, "meta": [2, 14], "metadata": [2, 14], "method": [0, 14], "might": 13, "model": [1, 4, 7, 9, 12], "model_nam": [6, 9], "modul": 12, "multi_modul": 5, "must": 14, "name": [0, 1, 2, 6, 9, 10, 11, 12, 13, 14], "namespac": [0, 2, 3, 7], "none": [0, 1, 2, 3, 5, 6, 7, 9, 10], "null": 13, "object": [1, 5, 6, 9], "observ": 12, "omop": [0, 1, 10, 12, 14], "omop_match": [4, 12], "omop_output": [1, 14], "omopmatch": 0, "one": 14, "openai": 6, "openmp": 13, "openssl": 13, "oper": 8, "opt": [0, 2, 3, 7], "option": [0, 1, 2, 3, 14], "origin": 8, "other": 0, "otherwis": [0, 6], "output": [0, 1, 2], "overrid": 1, "overridden": 1, "own": 5, "p": 14, "page": [4, 12], "parameteris": 12, "pars": 3, "parse_pipeline_arg": 1, "parser": 1, "pass": [0, 3], "password": 14, "path": [5, 13], "perform": [8, 13], "permit": 1, "pip": [13, 14], "pipelin": [1, 4, 12], "pipeline_opt": [1, 14], "pipelineopt": 1, "pipelinerequest": 1, "port": 14, "possibl": 1, "post": 14, "postgr": 13, "postgresql": 8, "prepar": 5, "preprocess": [4, 12], "preprocess_search_term": 8, "print": 3, "process": [1, 12], "produc": [], "project": 12, "prompt": [4, 7, 12], "prompt_typ": 9, "promptbuild": 9, "properti": 5, "provid": [0, 1, 2, 6, 12, 14], "psycopg2": 13, "py": 14, "pydant": 1, "python": [12, 14], "queri": [0, 1, 8, 12, 14], "quick": 8, "r": 14, "rank": 12, "readi": 8, "real": 1, "receiv": 0, "refer": [12, 13, 14], "relat": 0, "relationship": 0, "relev": [0, 1, 12], "remain": 8, "remot": 6, "remov": 8, "render": 10, "repli": [1, 2, 14], "repositori": 14, "repres": [], "request": [1, 14], "requir": [5, 14], "research": 12, "respons": [1, 11, 14], "restrict": 0, "result": [0, 1], "result_stream": 10, "retriev": [0, 10], "return": [8, 12], "rough": 12, "run": [0, 1, 2, 12], "run_db": 1, "run_pipelin": 1, "rxnorm": 1, "satisfi": 0, "save": 3, "scalp": 14, "schema": 14, "scienc": 12, "script": 3, "search": [0, 1, 8, 12], "search_term": [0, 14], "search_threshold": [0, 1], "second": 1, "select": [0, 5], "send": [0, 10], "sent": 1, "separ": [0, 1], "server": 14, "set": [5, 13], "sever": 3, "shot": 9, "should": 14, "simpl": [7, 9], "simplest": 14, "singl": 13, "skip_llm": 10, "so": [13, 14], "solut": [], "some": 13, "specif": 0, "sphinx": 4, "split": 8, "sql": 12, "sse": 1, "sse_starlett": 1, "sseclient": 10, "standardis": 12, "start": [6, 14], "stop": 8, "str": [0, 1, 2, 6, 8, 9, 10, 11, 14], "stream": [1, 10, 14], "stream_messag": 10, "streamlit": [10, 14], "string": [0, 1, 5, 8, 10], "subject": 12, "suggest": [2, 12], "suppli": [1, 9, 12], "synonym": 0, "tabl": [0, 1], "take": 1, "temperatur": [1, 6], "term": [0, 8], "termin": 14, "text": [6, 8], "text_input": [], "thei": [1, 12], "thi": [0, 1, 3, 4, 7, 8, 9, 12, 13], "thread": 13, "threshold": [0, 1], "time": 1, "to_tsqueri": 8, "tool": 0, "troubleshoot": 12, "true": [1, 5], "tune": 1, "turbo": 1, "two": 1, "txt": 14, "type": [1, 3, 14], "typewrit": 10, "ui": [4, 12, 14], "under": 12, "url": 14, "us": [0, 1, 2, 3, 5, 6, 7, 8, 9, 12, 13, 14], "usag": 12, "user": [10, 12, 14], "usr": 13, "util": [0, 2, 4, 12], "uvicorn": [], "valu": 1, "variabl": 1, "version": 13, "vocabulari": [0, 1, 12], "vocabulary_id": [0, 1], "wai": 14, "warn": 5, "well": 12, "wheel": 13, "when": [1, 13], "which": 0, "within": 0, "without": [13, 14], "word": [8, 10], "work": 14, "x": 14, "y": 0, "yml": 14, "you": [13, 14], "your": [13, 14]}, "titles": ["OMOP_match", "app", "assistant", "base_options", "API Reference", "logging_utils", "models", "pipeline", "preprocess", "prompt", "ui", "utils", "Llettuce: LLM for Efficient Translation and Transformation into Uniform Clinical Encoding", "Troubleshooting", "Usage"], "titleterms": {"": [], "api": [4, 14], "app": 1, "assist": 2, "attribut": [1, 2, 10], "base_opt": 3, "build": 13, "class": [0, 1, 3, 5, 7, 9], "clinic": 12, "connect": 14, "content": [0, 1, 2, 3, 5, 6, 7, 8, 9, 10, 11, 12], "cpp": 13, "databas": [13, 14], "diagram": [], "document": [], "effici": 12, "encod": 12, "error": 13, "first": 13, "function": [0, 1, 2, 6, 8, 10, 11], "gui": [], "indic": 12, "instal": 14, "llama": 13, "llettuc": 12, "llm": 12, "logging_util": 5, "malloc": 13, "model": 6, "modul": [0, 1, 2, 3, 5, 6, 7, 8, 9, 10, 11], "omop_match": 0, "overview": 12, "paramet": [0, 1, 2, 3, 5, 6, 10, 11], "pipelin": [7, 14], "preprocess": 8, "prompt": 9, "python": 13, "queri": 13, "refer": 4, "return": [0, 1, 2, 3, 5, 6, 7, 9, 10, 11], "run": 14, "second": 13, "solut": 13, "tabl": 12, "transform": 12, "translat": 12, "troubleshoot": 13, "ui": 10, "uniform": 12, "usag": 14, "util": 11, "welcom": [], "yield": 1}})