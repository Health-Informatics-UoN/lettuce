<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Llettuce: LLM for Efficient Translation and Transformation into Uniform Clinical Encoding &#8212; Llettuce 0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=61cd365c" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=12dfc556" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=fd3f3429" />
    <script src="_static/documentation_options.js?v=2709fde1"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="https://unpkg.com/mermaid@10.2.0/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Usage" href="usage.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="llettuce-llm-for-efficient-translation-and-transformation-into-uniform-clinical-encoding">
<h1>Llettuce: LLM for Efficient Translation and Transformation into Uniform Clinical Encoding<a class="headerlink" href="#llettuce-llm-for-efficient-translation-and-transformation-into-uniform-clinical-encoding" title="Link to this heading">¶</a></h1>
<p><strong>Llettuce</strong> is an application for medical researchers that matches the informal medicine names supplied by the user to concepts in the <a class="reference external" href="https://www.ohdsi.org">Observational Health Data Sciences and Informatics</a> (OMOP) <a class="reference external" href="https://github.com/OHDSI/Vocabulary-v5.0/wiki">standardised vocabularies</a>.</p>
<p>The application can be used as an API, or run with a graphical user interface (GUI).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This project is under active development</p>
</div>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading">¶</a></h2>
<p>The project uses a Large Language Model to suggest formal drug names to match the informal name supplied by the user. Suggested formal drug names are then fed into parameterised SQL queries against the OMOP database to fetch the relevant concepts. Any returned concepts are then ranked by how well they match the supplied query and provided to the user.</p>
<p>This is the rough process that the Llettuce API follows. Subject to change</p>
<div class="mermaid">
            flowchart TD
 usr[User]
 api_in(API)
 api_out(API)
 llm(Large Language Model)
 strpr[[String pre-processing]]
 omop[(OMOP database)]
 fuzz[[Fuzzy matching]]
 usr -- User sends an informal name to the API --&gt; api_in
 api_out -- API responds with concept\ninformation as JSON --&gt; usr
 api_in -- LLM sent informal name --&gt; llm
 llm -- LLM responds with possible formal name --&gt; strpr
 strpr --&gt; omop
 omop --&gt; fuzz
 fuzz -- Matches meeting threshold --&gt; api_out
        </div><div class="toctree-wrapper compound">
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="usage.html#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="usage.html#connecting-to-a-database">Connecting to a database</a></li>
<li class="toctree-l2"><a class="reference internal" href="usage.html#running-the-api">Running the API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html#malloc-error-querying-database"><cite>malloc</cite> error querying database</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html#llama-cpp-python-build-errors"><cite>llama-cpp-python</cite> build errors</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="autoapi/index.html">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="autoapi/ui/index.html">ui</a></li>
<li class="toctree-l2"><a class="reference internal" href="autoapi/app/index.html">app</a></li>
<li class="toctree-l2"><a class="reference internal" href="autoapi/utils/index.html">utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="autoapi/models/index.html">models</a></li>
<li class="toctree-l2"><a class="reference internal" href="autoapi/prompt/index.html">prompt</a></li>
<li class="toctree-l2"><a class="reference internal" href="autoapi/pipeline/index.html">pipeline</a></li>
<li class="toctree-l2"><a class="reference internal" href="autoapi/assistant/index.html">assistant</a></li>
<li class="toctree-l2"><a class="reference internal" href="autoapi/preprocess/index.html">preprocess</a></li>
<li class="toctree-l2"><a class="reference internal" href="autoapi/OMOP_match/index.html">OMOP_match</a></li>
<li class="toctree-l2"><a class="reference internal" href="autoapi/base_options/index.html">base_options</a></li>
<li class="toctree-l2"><a class="reference internal" href="autoapi/logging_utils/index.html">logging_utils</a></li>
</ul>
</li>
</ul>
</div>
</section>
</section>
<section id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Link to this heading">¶</a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="#">Llettuce</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="autoapi/index.html">API Reference</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="#">Documentation overview</a><ul>
      <li>Next: <a href="usage.html" title="next chapter">Usage</a></li>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2024, Reza Omidvar, James Mitchell-White, Grazziela Figueredo, Philip Quinlan.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 7.3.7</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="_sources/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>