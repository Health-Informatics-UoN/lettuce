import { Callout } from 'nextra/components'

<div style={{
          display: "flex",
          justifyContent: "center",
        }}
      >
  ![](/lettuce-logo.svg)
</div>
**Lettuce** is an application for medical researchers that matches the informal medicine names supplied by the user to concepts in the [Observational Health Data Sciences and Informatics](https://www.ohdsi.org) (OMOP) [standardised vocabularies](https://github.com/OHDSI/Vocabulary-v5.0/wiki).

The application can be used as an API, or run with a command-line interface (CLI).

<Callout type="warning" emoji="⚠️">
   This project is under active development
</Callout>

## Overview
The project uses a Large Language Model to suggest formal drug names to match the informal name supplied by the user. Suggested formal drug names are then fed into parameterised SQL queries against the OMOP database to fetch the relevant concepts. Any returned concepts are then ranked by how well they match the supplied query and provided to the user.

This is the rough process that the Llettuce API follows. Subject to change

```mermaid
  graph TD
    usr[User submits source term]
    subgraph Lettuce
      lettuce(Lettuce API/CLI)
      embed(Embedding model)
      lettuce --> embed

      subgraph LLM
        prompt --> llm(LLM)
      end

      LLM --> output

      text_search(Text search query)
      llm --> text_search
    end

    subgraph Database
        cdm[(OMOP-CDM)]
        embed_table(Embedding Table)
    end

    embed_table -.-> output(Output)
    cdm --> output
    text_search --> cdm
    embed --> embed_table
    embed_table -.-> prompt(Prompt Template)
    cdm --> embed_table
    usr --> lettuce
    output --> json(JSON response)
```
