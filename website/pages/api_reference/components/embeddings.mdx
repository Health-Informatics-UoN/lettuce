## components.embeddings
[source](https://github.com/Health-Informatics-UoN/lettuce/tree/main/Lettuce/components/embeddings.py)
### `EmbeddingModelName`
```
class EmbeddingModelName(
)
```

This class enumerates the embedding models we
have the download details for.

The models are:
### `EmbeddingModelInfo`
```
class EmbeddingModelInfo(
)
```

A simple class to hold the information for embeddings models
### `EmbeddingModel`
```
class EmbeddingModel(
)
```

A class to match the name of an embeddings model with the
details required to download and use it.

Explanation
------------
For detailed information on the models's version, parameters,
description and benitifs, refer to the documentation at the
following path below:

-> docs/models/embedding_models.rst.txt.
### `get_embedding_model`
```
def get_embedding_model(
	name: EmbeddingModelName

)
```

Collects the details of an embedding model when given its name


#### Parameters
name: EmbeddingModelName

The name of an embedding model we have the details for

#### Returns
EmbeddingModel

An EmbeddingModel object containing the name and the details used


### `Embeddings`
```
class Embeddings(
	self: 

	embeddings_path: str

	force_rebuild: bool

	embed_vocab: str[List]

	model_name: EmbeddingModelName

	search_kwargs: dict

)
```

This class allows the building or loading of a vector
database of concept names. This database can then
be used for vector search.

Methods
-------
search:
    Query the attached embeddings database with provided
    search terms.
### Methods

#### `__init__`
```
method __init__(
	self: 

	embeddings_path: str

	force_rebuild: bool

	embed_vocab: str[List]

	model_name: EmbeddingModelName

	search_kwargs: dict

)
```

Initialises the connection to an embeddings database

Parameters
----------
embeddings_path: str
    A path for the embeddings database. If one is not found,
    it will be built, which takes a long time. This is built
    from concepts fetched from the OMOP database.

force_rebuild: bool
    If true, the embeddings database will be rebuilt.

embed_vocab: List[str]
    A list of OMOP vocabulary_ids. If the embeddings database is
    built, these will be the vocabularies used in the OMOP query.

model: EmbeddingModel
    The model used to create embeddings.

search_kwargs: dict
    kwargs for vector search.

#### `_build_embeddings`
```
method _build_embeddings(
	self: 

)
```

Build a vector database of embeddings

#### `_load_embeddings`
```
method _load_embeddings(
	self: 

)
```

If available, load a vector database of concept embeddings

#### `get_embedder`
```
method get_embedder(
	self: 

)
```

Get an embedder for queries in LLM pipelines

Returns
_______
FastembedTextEmbedder

#### `get_retriever`
```
method get_retriever(
	self: 

)
```

Get a retriever for LLM pipelines

Returns
-------
QdrantEmbeddingRetriever

#### `search`
```
method search(
	self: 

	query: str[List]

)
```

Search the attached vector database with a list of informal medications

##### Parameters
query: List[str]

A list of informal medication names

##### Returns
List[List[Dict[str, Any]]]

For each medication in the query, the result of searching the vector database

